{% extends "showimage/base.html" %}
{% load bootstrap3 %}


{% block content %}

    <div class="db_bodyout">
        <div class="db_bodybg">
            <div class="db_topcont">
                <div class="db_coverinner">
                    <img src="/img/{{ itMovie.filename }}" class="db_coverpicbox img-rounded image-responsive center-block">
                </div>
                <div class="db_ihead">
                    <div class="db_head">
                        <div class="clearfix">
                            <span style="font-size:35px;"><strong>{{ itMovie.cname }}</strong></span>
                            <!-- <span class="db_year" style="font-size:30px;">({{ itMovie.year }})</span> -->
                            <!-- <h1><strong>{{ itMovie.name }}</strong></h1>
                            <p class="db_year" style="font-size:30px;">({{ itMovie.year }})</p> -->
                            <p class="db_enname" style="font-size:25px;">{{ itMovie.enname }}</p>
                        </div>
                        <div class="otherbox">
                            <span>{{ itMovie.runtime}}</span> - 
                            <span>{{ itMovie.types}}</span> - 
                            <span>{{ itMovie.releasetime }}上映</span>
                        </div>
                    </div>
                </div>
                <div class="db_contout">
                    <div class="db_cont">
                        <div class="clearfix">
                            <div class="base">
                                <dl class="info">
                                    <dd>
                                        <strong>导演：</strong>
                                        <span>{{ itMovie.director }}</span>
                                    </dd>
                                    <dd>
                                        <strong>主要演员：</strong>
                                        <span>{{ itMovie.actors }}</span>
                                    </dd>
                                    <dd>
                                        <strong>上映时间：</strong>
                                        <span>{{ itMovie.releasetime }}</span>
                                    </dd>
                                    <dd>
                                        <strong>类型：</strong>
                                        <span>{{ itMovie.types }}</span>
                                    </dd>
                                    <dd>
                                        <strong>制片国家/地区：</strong>
                                        <span>{{ itMovie.location }}</span>
                                    </dd>
                                    <dt>
                                        <h4 class="mt01"><strong>剧情：</strong></h4>
                                        <div id="intro">
                                            {{ itMovie.introduction }}
                                        </div>
                                    </dt>
                                </dl>
                            </div>
                        </div>
                    </div>  
                </div>
            </div>
        </div>
    </div>
    <script type="text/javascript"> 
        $(function(){
            var len = 200;      //默认显示字数
            var ctn = document.getElementById("intro");  //获取div对象
            var content = ctn.innerHTML;                 //获取div里的内容

            //alert(content);
            var span = document.createElement("span");     //创建<span>元素
            var a = document.createElement("a");           //创建<a>元素
            span.innerHTML = content.substring(0,len);     //span里的内容为content的前len个字符

            a.innerHTML = content.length>len?"... 展开":"";  ////判断显示的字数是否大于默认显示的字数    来设置a的显示        
            a.href = "javascript:void(0)";//让a链接点击不跳转
            a.onclick = function(){
                if(a.innerHTML.indexOf("展开")>0){      //如果a中含有"展开"则显示"收起"
                    a.innerHTML = "<<&nbsp;收起";
                    span.innerHTML = content;
                }else{
                    a.innerHTML = "... 展开";
                    span.innerHTML = content.substring(0,len);
                }
            }
            // 设置div内容为空，span元素 a元素加入到div中
            ctn.innerHTML = "";
            ctn.appendChild(span);
            ctn.appendChild(a);
        });
    </script>

{% endblock content %}     

    

